<!doctype html>
<html lang="es-ES">

<head>
    <!-- ============== METAETIQUETAS ORIGINALES DE LA CALCULADORA ============== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="La Calculadora de Facundo con herramientas avanzadas como un lector de n√∫meros.">
    <meta name="author" content="Hector Daniel Ayarachi Fuentes">
    <meta name="theme-color" content="#66FF66">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect x='5' y='5' width='90' height='90' rx='15' fill='%2366FF66'/><text x='50' y='55' font-size='40' text-anchor='middle' fill='%23000' font-family='Arial, sans-serif'>FC</text></svg>">
    <title>Calculadora Facundo üßÆ</title>

    <!-- Metadatos Open Graph para redes sociales -->
    <meta property="og:title" content="Calculadora Facundo üßÆ">
    <meta property="og:description"
        content="La Calculadora de Facundo: r√°pida, atractiva y con herramientas avanzadas.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hectordanielayarachifuentes.github.io/Calculadora-Facundo-V4//">
    <meta property="og:image"
        content="https://hectordanielayarachifuentes.github.io/Calculadora-Facundo-V4/Img/Inicio%20de%20calculadora.jpeg">

    <!-- ============== RECURSOS PARA LA NUEVA BARRA LATERAL Y MODAL ============== -->
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome para los iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <!-- He quitado las fuentes de Google Fonts de aqu√≠ porque ya est√°n importadas en el archivo SCSS -->

    <!-- ============== ESTILOS DE LA CALCULADORA (CARGADO AL FINAL PARA TENER PRIORIDAD) ============== -->
    <!-- Este enlace debe apuntar al archivo CSS compilado desde tu SCSS -->
    <link rel="stylesheet" href="scss\style.css">
</head>

<body>
    <!-- Contenedor para anuncios de lector de pantalla -->
    <div id="sr-announcer" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- ============== CONTENIDO ORIGINAL DE LA CALCULADORA ============== -->
    <main id="contenedor" class="calculator-container" role="main">
        <header role="banner">
            <h1>LA<br>CALCULADORA<br>DE <span>FACUNDO</span></h1>
            <p class="subtitle">Un proyecto de <a href="https://github.com/HectorDanielAyarachiFuentes" target="_blank"
                    rel="noopener">Facundo Killer</a></p>
        </header>
        <section aria-label="Pantalla de la calculadora">
            <div id="display" class="display" role="textbox" aria-live="polite">0</div>
        </section>
        <section aria-label="Teclado y pantalla de operaciones">
            <div id="cuerpoteclado" class="keyboard-container">
                <div id="teclado" class="keyboard" role="grid">
                    <button class="keyboard__button keyboard__button--special keyboard__button--double-width"
                        data-action="view-screen" aria-label="Ver pantalla de resultados">Ver<br>Pantalla</button>
                    <button id="tcal" class="keyboard__button keyboard__button--equals keyboard__button--triple-width"
                        data-action="calculate" aria-label="Calcular">=</button>
                    <button class="keyboard__button keyboard__button--number" data-value="7">7</button>
                    <button class="keyboard__button keyboard__button--number" data-value="8">8</button>
                    <button class="keyboard__button keyboard__button--number" data-value="9">9</button>
                    <button id="tmas" class="keyboard__button keyboard__button--operator" data-value="+">+</button>
                    <button id="tmen" class="keyboard__button keyboard__button--operator" data-value="-">-</button>
                    <button class="keyboard__button keyboard__button--number" data-value="4">4</button>
                    <button class="keyboard__button keyboard__button--number" data-value="5">5</button>
                    <button class="keyboard__button keyboard__button--number" data-value="6">6</button>
                    <button id="tpor" class="keyboard__button keyboard__button--operator" data-value="x">√ó</button>
                    <button id="tdiv" class="keyboard__button keyboard__button--operator" data-value="/">√∑</button>
                    <button class="keyboard__button keyboard__button--number" data-value="1">1</button>
                    <button class="keyboard__button keyboard__button--number" data-value="2">2</button>
                    <button class="keyboard__button keyboard__button--number" data-value="3">3</button>
                    <button id="tmod" class="keyboard__button keyboard__button--operator" data-value="%" data-action="" aria-label="M√≥dulo">%</button>
                    <button id="trai" class="keyboard__button keyboard__button--equals" data-action="raiz"
                        aria-label="Ra√≠z Cuadrada">‚àö</button>
                    <button class="keyboard__button keyboard__button--number keyboard__button--double-width"
                        data-value="0">0</button>
                    <button id="tcom" class="keyboard__button keyboard__button--number" data-value=",">,</button>
                    <button class="keyboard__button keyboard__button--operator" data-action="clear"
                        aria-label="Limpiar Todo">C</button>
                    <button class="keyboard__button keyboard__button--operator" data-action="delete"
                        aria-label="Borrar">‚å´</button>
                </div>
                <div id="salida" class="output-screen" role="region" aria-live="polite"></div>
                <nav id="divvolver" class="bottom-nav" aria-label="Controles de resultados">
                    <button id="volver" class="bottom-nav__button bottom-nav__button--arrow" data-action="hide-screen"
                        aria-label="Volver al teclado">‚Ü©</button>
                    <button id="botexp" class="bottom-nav__button" data-action="divide-expanded"
                        aria-label="Ver divisi√≥n expandida">DIV EXPAND.</button>
                    <button id="botnor" class="bottom-nav__button" data-action="divide-normal"
                        aria-label="Ver divisi√≥n normal">DIV NORMAL</button>
                </nav>
            </div>
        </section>
    </main>
        <!-- === FIN === -->

    <!-- ============== BOT√ìN DE CAMBIO DE TEMA ============== -->
    <button id="theme-toggle-btn" class="theme-toggle-btn" aria-label="Cambiar entre modo claro y oscuro">
        <i class="fas fa-moon"></i>
    </button>

    <!-- ============== BARRA LATERAL HISTORIA ============== -->

    <button id="history-toggle-btn" class="history-toggle-btn" aria-label="Mostrar u ocultar historial" aria-controls="history-panel" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path
                d="M13,3A9,9,0,0,0,4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7,0,0,1,13,5V8L18,4L13,0V3M12,12.5A1.5,1.5,0,0,0,10.5,14A1.5,1.5,0,0,0,12,15.5A1.5,1.5,0,0,0,13.5,14A1.5,1.5,0,0,0,12,12.5Z" />
        </svg>
    </button>
    <aside id="history-panel" class="history-panel" role="complementary" aria-hidden="true" tabindex="-1">
        <header class="history-panel__header">
            <h2 id="history-title" class="history-panel__title">Historial</h2>
            <button id="clear-history-btn" class="history-panel__clear-btn">Limpiar</button>
        </header>
        <ul id="history-list" class="history-panel__list" role="list" aria-labelledby="history-title"></ul>
    </aside>
    <!-- === FIN === -->

    <!-- ==============  BARRA LATERAL Y MODAL LECTOR DE NUMEROS ============== -->
    <div class="sidebar-wrapper">
        <button id="main-tools-btn" class="btn btn-primary bubble-btn bubble-main" type="button"
            data-bs-target="#mainOptions" aria-expanded="false" aria-controls="mainOptions" title="Abrir herramientas">
            <i class="fa-solid fa-screwdriver-wrench"></i>
        </button>
        <div class="collapse" id="mainOptions">
            <div class="d-flex flex-column gap-3 mt-3">
                <div class="d-flex flex-column align-items-start">
                    <button class="btn btn-success bubble-btn" type="button" data-bs-toggle="collapse"
                        data-bs-target="#mathSubOptions" aria-expanded="false" aria-controls="mathSubOptions"
                        title="Matem√°ticas">
                        <i class="fa-solid fa-calculator"></i>
                    </button>
                    <div class="collapse mt-2 ps-4" id="mathSubOptions">
                        <div class="d-flex flex-column gap-2">
                            <button class="btn btn-success bubble-btn bubble-sub" data-modal-target="readNumbers"
                                title="Lector de N√∫meros Avanzado">
                                <i class="fa-solid fa-spell-check"></i>
                            </button>
                            <button class="btn btn-success bubble-btn bubble-sub" data-modal-target="geometry"
                                title="Geometr√≠a">
                                <i class="fa-solid fa-draw-polygon"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- NUEVO: Categor√≠a de Conversores -->
                <div class="d-flex flex-column align-items-start">
                    <button class="btn btn-warning bubble-btn" type="button" data-bs-toggle="collapse"
                        data-bs-target="#converterSubOptions" aria-expanded="false" aria-controls="converterSubOptions"
                        title="Conversores">
                        <i class="fa-solid fa-right-left"></i>
                    </button>
                    <div class="collapse mt-2 ps-4" id="converterSubOptions">
                        <div class="d-flex flex-column gap-2">
                            <button class="btn btn-warning bubble-btn bubble-sub" data-modal-target="unitConverter"
                                title="Conversor de Unidades">
                                <i class="fa-solid fa-ruler-combined"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <button class="btn btn-secondary bubble-btn" data-modal-target="config" title="Configuraci√≥n">
                    <i class="fa-solid fa-gears"></i>
                </button>
                <button class="btn btn-info bubble-btn" data-modal-target="help" title="Ayuda">
                    <i class="fa-solid fa-circle-question"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fs-4" id="infoModalLabel">T√≠tulo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="infoModalBody"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <!-- === FIN === -->
 
    <!-- NUEVO: Template para el modal de configuraci√≥n -->
    <template id="config-modal-template">
        <div class="settings-panel">
            <!-- Personalizaci√≥n de Teclas -->
            <div class="settings-group">
                <h4><i class="fa-solid fa-keyboard"></i> Personalizaci√≥n de Teclas</h4>
                <p>Selecciona una funci√≥n alternativa para la tecla de m√≥dulo (%). El cambio se aplicar√° inmediatamente.</p>
                <div class="mb-2">
                    <label for="special-function-select" class="form-label">Funci√≥n para la tecla <strong>%</strong>:</label>
                    <select class="form-select" id="special-function-select" aria-label="Seleccionar funci√≥n para la tecla de m√≥dulo">
                        <option value="%" data-text="%" data-value="%" data-action="" aria-label="M√≥dulo">M√≥dulo (%)</option>
                        <option value="pow" data-text="x ∏" data-value="^" data-action="" aria-label="Potencia">Potencia (x ∏)</option>
                    <option value="log" data-text="log" data-value="" data-action="log" aria-label="Logaritmo base 10">Logaritmo (log)</option>
                    <option value="ln" data-text="ln" data-value="" data-action="ln" aria-label="Logaritmo natural">Logaritmo Natural (ln)</option>
                    <option value="sin" data-text="sin" data-value="" data-action="sin" aria-label="Seno">Seno (sin)</option>
                    <option value="cos" data-text="cos" data-value="" data-action="cos" aria-label="Coseno">Coseno (cos)</option>
                        <option value="primos" data-text="Factores" data-action="primos" aria-label="Factores Primos">Factores Primos</option>
                    </select>
                </div>
            </div>
            <!-- Velocidad de Animaci√≥n -->
            <div class="settings-group">
                <h4><i class="fa-solid fa-gauge-high"></i> Velocidad de Animaci√≥n</h4>
                <p>Controla la velocidad de las animaciones en las operaciones visuales.</p>
                <select id="animationSpeedSelector" class="form-select">
                    <option value="2">Lenta (para aprender)</option>
                    <option value="1">Normal</option>
                    <option value="0.5">R√°pida</option>
                    <option value="0">Instant√°nea (sin animaci√≥n)</option>
                </select>
            </div>
            <!-- Experiencia Sensorial -->
            <div class="settings-group">
                <h4><i class="fa-solid fa-volume-high"></i> Experiencia Sensorial</h4>
                <p>Activa o desactiva los efectos de sonido y la vibraci√≥n en los botones.</p>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="soundEffectsToggle">
                    <label class="form-check-label" for="soundEffectsToggle">Efectos de Sonido</label>
                </div>
                <div class="form-check form-switch mt-2">
                    <input class="form-check-input" type="checkbox" role="switch" id="hapticFeedbackToggle">
                    <label class="form-check-label" for="hapticFeedbackToggle">Respuesta T√°ctil (Vibraci√≥n)</label>
                </div>
            </div>
            <!-- Efectos Visuales -->
            <div class="settings-group">
                <h4><i class="fa-solid fa-wand-magic-sparkles"></i> Efectos Visuales</h4>
                <p>Activa o desactiva efectos visuales como el "glitch" en el display.</p>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="glitchEffectToggle">
                    <label class="form-check-label" for="glitchEffectToggle">Efecto Glitch del Display</label>
                </div>
            </div>
            <!-- Gesti√≥n de Interfaz y Datos -->
            <div class="settings-group">
                <h4><i class="fa-solid fa-database"></i> Interfaz y Datos</h4>
                <p class="mb-2">Restaura la posici√≥n de los botones flotantes o borra todos los datos de la aplicaci√≥n.</p>
                <button id="resetPositionsBtn" class="btn btn-warning me-2">Restaurar Posiciones</button>
                <button id="clearAllDataBtn" class="btn btn-danger">Borrar Todos los Datos</button>
            </div>
        </div>
    </template>

   <!-- NUEVO: Footer -->
    <footer class="main-footer">
        <p>¬© 2023 Facundo Killer. Todos los derechos reservados.</p>
        <p>Hecho con <span style="color: red;">‚ô•</span> y CSS.</p>
    </footer>
    <!-- ============== SCRIPTS (ORIGINALES + NUEVOS) ============== -->
    <!-- Script original de la calculadora -->
    <script type="module" src="js/calculadora/main.js"></script>

    <!-- Scripts de la aplicaci√≥n y funcionalidades adicionales -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="js/calculadora/app.js"></script>
</body>

</html>